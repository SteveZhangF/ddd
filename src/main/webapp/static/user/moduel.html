<!--
  ~ Copyright (c) 2015. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
  ~ Morbi non lorem porttitor neque feugiat blandit. Ut vitae ipsum eget quam lacinia accumsan.
  ~ Etiam sed turpis ac ipsum condimentum fringilla. Maecenas magna.
  ~ Proin dapibus sapien vel ante. Aliquam erat volutpat. Pellentesque sagittis ligula eget metus.
  ~ Vestibulum commodo. Ut rhoncus gravida arcu.
  -->
<div ng-controller="UserWorkflowController" class="row">
    <div class="sidebar-nav col-md-2">
        <ul id="workflow-menu">
            <li ng-repeat="wf in workflows"><a href="" ng-click="workFlowChooses(wf)"><span>{{wf.name}}</span></a></li>
        </ul>
    </div>
    <div class="col-md-10">
            <div class="well" ng-show="!currentNode.name">
                Please select module to start!
            </div>
        <div ng-if="currentNode.type=='StartNode'">
            {{currentWorkFlow}}
            <select ng-model="currentWorkFlow.oe_id">
                <option ng-repeat="oe in nodeData.options" value="{{oe.value}}">{{oe.name}}</option>
            </select>
            <button type="button" ng-click="workFlowStart()" class="btn btn-md btn-default">Go!</button>

        </div>
            <div class="panel panel-default" ng-if="currentNode.type!='StartNode'">
                <div class="panel-heading">
                    <h3>{{currentNode.name}}</h3>
                </div>
                <div class="panel-body">
                    <h4>{{currentNode.data.description}}
                    {{record}}
                    </h4>
                    <hr>
                    <div id="node-data-content">
                        <div ng-switch="nodeData.type">
                            <select class="form-control"ng-switch-when="select" ng-model="record.value"><option ng-repeat="opt in nodeData.options" value="{{opt.value}}">{{opt.name}}</option></select>
                            <input class="form-control" ng-switch-when="text" type="text" ng-model="record.value">
                            <textarea class="form-control" ng-switch-when="textarea" ng-model="record.value"></textarea>
                            <label class="form-control" ng-switch-when="checkbox" ng-repeat="opt in nodeData.options"><input type="checkbox" ng-change="checkBoxValueChanged(opt.value)" ng-model="record.values[$index]"  value="{{opt.value}}">{{opt.name}}</label>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                    <nav>
                        <ul class="pager">
                            <li class="previous {{currentNode.prev==''?'disabled':''}}"><a ng-click="currentNode.prev==''?'':goPrev()"
                                                                                           href=""><span
                                    aria-hidden="true">&larr;</span> Prev</a></li>
                            <li class="next {{currentNode.nexts.length==0?'disabled':''}}"><a ng-click="currentNode.nexts.length==0?'':goNext()"
                                                                                              href="">Next <span
                                    aria-hidden="true">&rarr;</span></a></li>
                        </ul>
                    </nav>
                </div>
            </div>
    </div>
</div>

